<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gener√°tor test≈Ø - BIOLOGIE 2. roƒçn√≠k</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: Arial, sans-serif; 
      background-color: #667eea;
      padding: 24px;
    }
    .container { max-width: 800px; margin: 0 auto; }
    .card { 
      background-color: white;
      background-image: 
        url("data:image/svg+xml,%3Csvg width='120' height='120' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%2393c5fd' fill-opacity='0.15'%3E%3Ccircle cx='60' cy='60' r='12'/%3E%3Ccircle cx='25' cy='25' r='8'/%3E%3Ccircle cx='95' cy='95' r='8'/%3E%3Ccircle cx='25' cy='95' r='6'/%3E%3Ccircle cx='95' cy='25' r='6'/%3E%3C/g%3E%3Cg stroke='%2393c5fd' stroke-width='2' fill='none' stroke-opacity='0.12'%3E%3Cpath d='M35 60 Q47 40 60 60 T85 60'/%3E%3Ccircle cx='60' cy='60' r='20'/%3E%3C/g%3E%3C/svg%3E");
      border-radius: 16px; 
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); 
      padding: 32px; 
      margin-bottom: 24px; 
    }
    h1 { 
      font-size: 28px; 
      font-weight: bold; 
      color: #1f2937; 
      margin-bottom: 24px; 
      text-align: center; 
    }
    .info-box { 
      background: #eff6ff; 
      border-radius: 8px; 
      padding: 16px; 
      margin-bottom: 24px; 
    }
    .info-box p { font-size: 14px; color: #374151; line-height: 1.6; }
    .form-group { margin-bottom: 16px; }
    label { 
      display: block; 
      font-size: 14px; 
      font-weight: 500; 
      color: #374151; 
      margin-bottom: 8px; 
    }
    input[type="text"], input[type="date"], input[type="number"], select {
      width: 100%;
      padding: 10px 12px;
      border: 2px solid #d1d5db;
      border-radius: 8px;
      outline: none;
      font-size: 14px;
    }
    select {
      cursor: pointer;
      background: white;
    }
    .input-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .btn {
      padding: 14px 40px;
      border-radius: 8px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
      font-size: 16px;
      width: 100%;
      margin-top: 8px;
    }
    .btn-primary {
      background: linear-gradient(to right, #3b82f6, #6366f1);
      color: white;
    }
    .btn:disabled {
      background: #d1d5db;
      cursor: not-allowed;
    }
    .back-button {
      display: inline-block;
      padding: 12px 24px;
      background: linear-gradient(to right, #3b82f6, #6366f1);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 20px;
      transition: all 0.2s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .back-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .warning {
      background: #fef3c7;
      border: 2px solid #fbbf24;
      border-radius: 8px;
      padding: 12px;
      margin-top: 16px;
    }
    .warning p { color: #92400e; font-size: 14px; text-align: center; }
    .success {
      background: #d1fae5;
      border: 2px solid #10b981;
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
    }
    .success p { color: #065f46; font-size: 14px; }
    .instruction-box {
      background: #dbeafe;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
    }
    .instruction-box p {
      font-size: 14px;
      color: #1e40af;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-button">‚Üê Zpƒõt na rozcestn√≠k</a>
    
    <div class="card">
      <h1>üß¨ Gener√°tor test≈Ø z BIOLOGIE - 2. roƒçn√≠k</h1>
      
      <div class="info-box" id="infoBox">
        <p><strong>Jak to funguje:</strong><br>
        1. Vyber t≈ô√≠du<br>
        2. Klikni "Vygenerovat v≈°echny testy"<br>
        3. St√°hne se JEDEN soubor se V≈†EMI testy (ka≈æd√Ω student jin√© ot√°zky)<br>
        4. Vytiskni a rozdej student≈Øm</p>
      </div>

      <div class="form-group">
        <label>T≈ô√≠da:</label>
        <select id="className">
          <option value="">-- Vyber t≈ô√≠du --</option>
          <option value="2.A">2.A</option>
          <option value="2.B">2.B</option>
          <option value="6SA">6SA</option>
        </select>
      </div>

      <div class="input-row">
        <div class="form-group">
          <label>Poƒçet student≈Ø:</label>
          <input type="number" id="studentCount" value="30" min="1" max="50">
        </div>
        
        <div class="form-group">
          <label>Datum testu:</label>
          <input type="date" id="testDate">
        </div>
      </div>

      <div class="input-row">
        <div class="form-group">
          <label>Ot√°zek na test:</label>
          <input type="number" id="questionsPerTest" value="30" min="1" max="50">
        </div>
        
        <div class="form-group">
          <label>Bod≈Ø za ot√°zku:</label>
          <input type="number" id="pointsPerQuestion" value="1" min="1" max="10">
        </div>
      </div>

      <button class="btn btn-primary" onclick="generateAllTests()">
        Vygenerovat v≈°echny testy najednou
      </button>
       
      <button class="btn btn-secondary" onclick="window.location.href='index.html'">
        ‚Üê Zpƒõt na rozcestn√≠k
      </button>

      <div id="warningSection" style="display: none;">
        <div class="warning">
          <p id="warningText">Vypl≈à v≈°echny √∫daje</p>
        </div>
      </div>

      <div id="successSection" style="display: none;">
        <div class="success">
          <p><strong>‚úÖ Testy vygenerov√°ny!</strong><br>
          Soubor obsahuje <span id="testInfo"></span> test≈Ø p≈ôipraven√Ωch k tisku.</p>
        </div>
      </div>

      <div class="instruction-box" style="margin-top: 24px;">
        <p><strong>üí° Tip:</strong> Ka≈æd√Ω student dostane jin√© ot√°zky (n√°hodnƒõ vybran√© z datab√°ze). 
        Testy jsou v jednom souboru, ka≈æd√Ω test na samostatn√©m listu. Staƒç√≠ vytisknout a rozdat student≈Øm.</p>
      </div>
    </div>
  </div>

  <script>
    const questionsDatabase = {
      "Houby": [
        { q: "Jak√° l√°tka tvo≈ô√≠ bunƒõƒçnou stƒõnu hub?", a: "chitin" },
        { q: "Jak se naz√Ωv√° vl√°kno tvo≈ô√≠c√≠ tƒõlo houby?", a: "hyfa" },
        { q: "Jak se naz√Ωv√° soubor hyf?", a: "mycelium" },
        { q: "Jak se naz√Ωv√° rozmno≈æovac√≠ forma vy≈°≈°√≠ch hub?", a: "plodnice" },
        { q: "Jak se naz√Ωv√° nepohlavn√≠ rozmno≈æovac√≠ √∫tvar hub?", a: "v√Ωtrus" },
        { q: "Jak√Ω je rozd√≠l mezi pohlavn√≠m a nepohlavn√≠m rozmno≈æov√°n√≠m hub?", a: "pohlavn√≠ -- spl√Ωv√°n√≠ gamet, nepohlavn√≠ -- tvorba v√Ωtrus≈Ø nebo puƒçen√≠" },
        { q: "Jak√© houby se pou≈æ√≠vaj√≠ p≈ôi v√Ωrobƒõ piva a v√≠na?", a: "kvasinky (kvasinka pivn√≠/vinn√°)" },
        { q: "Jak se naz√Ωv√° skupina hub zahrnuj√≠c√≠ kvasinky a smr≈æe?", a: "v≈ôeckov√Ωtrusn√©" },
        { q: "Jak se naz√Ωv√° skupina hub zahrnuj√≠c√≠ h≈ô√≠by a muchom≈Ørky?", a: "stopkov√Ωtrusn√©" },
        { q: "Jak se naz√Ωv√° sou≈æit√≠ hyf hub s ko≈ôeny rostlin?", a: "mykorhiza" },
        { q: "Jak se naz√Ωv√° tƒõlo li≈°ejn√≠ku?", a: "st√©lka" },
        { q: "Jak√Ω typ st√©lky m√° li≈°ejn√≠k korovit√Ω?", a: "p≈ôisedl√°, povlakov√°" },
        { q: "Proƒç jsou li≈°ejn√≠ky indik√°tory ƒçistoty ovzdu≈°√≠?", a: "citliv√© na zneƒçi≈°tƒõn√≠" },
        { q: "Jak√Ω typ v√Ω≈æivy maj√≠ houby rozkl√°daj√≠c√≠ mrtvou organickou hmotu?", a: "saprofytismus" },
        { q: "Jak√Ω typ v√Ω≈æivy maj√≠ houby ≈æij√≠c√≠ na √∫kor hostitele?", a: "parazitismus" },
        { q: "Jak se naz√Ωv√° symbi√≥za houby s ≈ôasou nebo sinic√≠?", a: "li≈°ejn√≠k" },
        { q: "Uveƒè p≈ô√≠klad jedl√© houby.", a: "h≈ôib smrkov√Ω" },
        { q: "Uveƒè p≈ô√≠klad jedovat√© houby.", a: "muchom≈Ørka zelen√°" },
        { q: "Jak√© jsou typick√© p≈ô√≠znaky otravy muchom≈Ørkou zelenou?", a: "zvracen√≠, pr≈Øjem, po≈°kozen√≠ jater" },
        { q: "Jak√Ω je z√°kladn√≠ postup prvn√≠ pomoci p≈ôi podez≈ôen√≠ na otravu houbami?", a: "vyhledat l√©ka≈ôe, uchovat vzorek, nevyvol√°vat zvracen√≠" },
        { q: "Kter√© houby tvo≈ô√≠ mykorhizu s jehliƒçnany (nap≈ô. se smrkem)?", a: "h≈ô√≠by smrkov√©" },
        { q: "Jak se naz√Ωvaj√≠ mo≈æn√© houby zp≈Øsobuj√≠c√≠ pl√≠se≈à na chlebu?", a: "pl√≠se≈à chlebov√°, aspergilus, mucor, penicilium" },
        { q: "Jak√Ω m√° v√Ωznam mykorhiza pro rostliny?", a: "zlep≈°uje p≈ô√≠jem ≈æivin a vody" },
        { q: "Jak√° je hlavn√≠ funkce plodnice u hub?", a: "rozmno≈æov√°n√≠ - tvorba a ≈°√≠≈ôen√≠ v√Ωtrus≈Ø" },
        { q: "Kde se tvo≈ô√≠ v√Ωtrusy u stopkov√Ωtrusn√Ωch hub?", a: "na lup√≠nk√°ch nebo rourk√°ch plodnice" },
        { q: "Jak√Ω pigment d√°v√° nƒõkter√Ωm houb√°m schopnost fotosynt√©zy v symbi√≥ze s ≈ôasami?", a: "chlorofyl (v ≈ôasov√© slo≈æce li≈°ejn√≠ku)" },
        { q: "Jak se naz√Ωv√° zp≈Øsob rozmno≈æov√°n√≠ kvasinek?", a: "puƒçen√≠" },
        { q: "Kter√© houby zp≈Øsobuj√≠ onemocnƒõn√≠ rostlin jako padl√≠ nebo rez?", a: "parazitick√© houby (v≈ôeckov√Ωtrusn√© a stopkov√Ωtrusn√©)" },
        { q: "Z ƒçeho se skl√°d√° li≈°ejn√≠k?", a: "houby a ≈ôasy (nebo sinice)" },
        { q: "Jak√° je funkce spor u hub?", a: "rozmno≈æov√°n√≠ a p≈ôe≈æit√≠ v nep≈ô√≠zniv√Ωch podm√≠nk√°ch" },
        { q: "Kde rostou saprofytick√© houby?", a: "na mrtv√© organick√© hmotƒõ (d≈ôevo, list√≠, humus)" },
        { q: "Jak√Ω je rozd√≠l mezi ed√°ln√≠ a epifytickou formou li≈°ejn√≠k≈Ø?", a: "ed√°ln√≠ rostou na zemi/p≈Ødƒõ, epifytick√© na stromech" },
        { q: "Kter√© houby se pou≈æ√≠vaj√≠ k v√Ωrobƒõ antibiotik?", a: "penicilium (Penicillium)" },
        { q: "Co jsou to hyfy septovan√© a neseptovan√©?", a: "septovan√© maj√≠ p≈ôehr√°dky mezi bu≈àkami, neseptovan√© jsou souvisl√©" },
        { q: "Jak se rozmno≈æuj√≠ li≈°ejn√≠ky?", a: "fragmentac√≠ nebo speci√°ln√≠mi √∫tvary (sor√©dia, is√≠dia)" },
        { q: "Jak√© barvy m≈Ø≈æe m√≠t plodnice hub?", a: "r≈Øzn√© - hnƒõd√°, ƒçerven√°, ≈ælut√°, b√≠l√°, zelen√° atd." },
        { q: "Co je to mykorhiza ektotrofn√≠ a endotrofn√≠?", a: "ektotrofn√≠ obaluje ko≈ôen zvenƒç√≠, endotrofn√≠ pronik√° do bunƒõk" },
        { q: "Jak√Ω v√Ωznam maj√≠ houby v p≈ô√≠rodƒõ?", a: "rozkladaƒçi, symbionti, zdroj potravy, tvorba p≈Ødy" }
      ],
      "Bu≈àka a primitivn√≠ mnohobunƒõƒçn√≠": [
        { q: "Jak√© struktury chyb√≠ v ≈æivoƒçi≈°n√© bu≈àce oproti rostlinn√©?", a: "plastidy, bunƒõƒçn√° stƒõna, vakuola" },
        { q: "Jak√© jsou ƒçty≈ôi z√°kladn√≠ typy ≈æivoƒçi≈°n√Ωch tk√°n√≠?", a: "epitelov√°, svalov√°, nervov√°, pojivov√°" },
        { q: "Kter√Ω z√°rodeƒçn√Ω list chyb√≠ u diblastik?", a: "mezoderm" },
        { q: "Kolik z√°rodeƒçn√Ωch list≈Ø maj√≠ triblastika?", a: "t≈ôi" },
        { q: "Jak se naz√Ωv√° skupina triblastik, u nich≈æ prvo√∫sta u z√°rodku d√°vaj√≠ vznik √∫stn√≠mu otvoru u dospƒõlce?", a: "prvo√∫st√≠" },
        { q: "Jak se naz√Ωv√° skupina triblastik, u nich≈æ prvo√∫sta u z√°rodku d√°vaj√≠ vznik ≈ôitn√≠mu otvoru u dospƒõlce?", a: "druho√∫st√≠" },
        { q: "Kter√Ω nejjednodu≈°≈°√≠ mnohobunƒõƒçn√Ω ≈æivoƒçich je≈°tƒõ nem√° prav√© tk√°nƒõ?", a: "vloƒçkovec" },
        { q: "Jak se naz√Ωvaj√≠ bu≈àky, kter√© zaji≈°≈•uj√≠ proudƒõn√≠ vody u hubovc≈Ø (porifer)?", a: "choanocyty" },
        { q: "Jak se naz√Ωvaj√≠ ≈æahav√© bu≈àky ≈æahavc≈Ø?", a: "knidocyty" },
        { q: "Kter√© st√°dium ≈æahavc≈Ø je p≈ôisedl√©?", a: "polyp" },
        { q: "Kter√© st√°dium ≈æahavc≈Ø je volnƒõ plovouc√≠?", a: "med√∫za" },
        { q: "Jak se pohybuj√≠ ≈æebernatky?", a: "pomoc√≠ brv" },
        { q: "Jak√Ω je rozd√≠l mezi diblastikami a triblastikami?", a: "diblastika maj√≠ 2 z√°rodeƒçn√© listy, triblastika 3" },
        { q: "Jak√© t≈ôi z√°rodeƒçn√© listy m√° triblastikum?", a: "ektoderm, mezoderm, endoderm" },
        { q: "Z jak√©ho z√°rodeƒçn√©ho listu vznik√° nervov√° soustava?", a: "ektoderm" },
        { q: "Jak se naz√Ωv√° centr√°ln√≠ dutina u ≈æahavc≈Ø?", a: "gastrovaskul√°rn√≠ dutina" },
        { q: "Jak√Ω typ symetrie maj√≠ ≈æahavci?", a: "radi√°ln√≠ (paprscit√°)" },
        { q: "Co znamen√° pojem 'cefalizace'?", a: "koncentrace nervov√Ωch bunƒõk v hlavov√© ƒç√°sti tƒõla" },
        { q: "Jak√© jsou hlavn√≠ funkce pojivov√© tk√°nƒõ?", a: "vypl≈àov√°n√≠ prostor≈Ø, podpora, z√°soben√≠, obrana" },
        { q: "Jak√Ω typ tk√°nƒõ tvo≈ô√≠ k≈Ø≈æi a sliznice?", a: "epitelov√° tk√°≈à" }
      ],
      "Bezobratl√≠": [
        { q: "Jak√Ω tvar tƒõla maj√≠ plo≈°tƒõnci?", a: "zplo≈°tƒõl√Ω dorzoventralnƒõ" },
        { q: "Jak se naz√Ωv√° parazitick√Ω plo≈°tƒõnec s ƒçl√°nkovan√Ωm tƒõlem?", a: "tasemnice" },
        { q: "Jak se naz√Ωv√° parazitick√Ω plo≈°tƒõnec, jeho≈æ larvy se vyv√≠jej√≠ v pl≈æ√≠ch?", a: "motolice" },
        { q: "Jak√Ω tvar tƒõla maj√≠ hl√≠stice?", a: "v√°lcovit√Ω" },
        { q: "Kter√Ω hl√≠st parazituje v tenk√©m st≈ôevƒõ ƒçlovƒõka?", a: "≈°krkavka" },
        { q: "Jak se naz√Ωv√° ƒçast√Ω dƒõtsk√Ω parazit, kter√Ω klade vaj√≠ƒçka v okol√≠ koneƒçn√≠ku?", a: "roup dƒõtsk√Ω" },
        { q: "Jak se naz√Ωv√° krou≈ækovec ≈æij√≠c√≠ v p≈Ødƒõ, kter√Ω zlep≈°uje √∫rodnost?", a: "≈æ√≠≈æala obecn√°" },
        { q: "Jak√Ω krou≈ækovec saje krev obratlovc≈Ø?", a: "pijavka l√©ka≈ôsk√°" },
        { q: "Jak se naz√Ωv√° tƒõln√≠ dutina u krou≈ækovc≈Ø?", a: "coelom" },
        { q: "Jak se naz√Ωv√° mƒõkk√Ω≈° se stoƒçenou ulitou?", a: "pl≈æ" },
        { q: "Jak se naz√Ωv√° mƒõkk√Ω≈° s dvouchlop≈àovou lasturou?", a: "ml≈æ" },
        { q: "Jak√Ω mƒõkk√Ω≈° m√° chapadla a vysoce vyvinut√Ω nervov√Ω syst√©m?", a: "hlavono≈æec" },
        { q: "Kolik p√°r≈Ø konƒçetin m√° hmyz?", a: "3" },
        { q: "Jak se naz√Ωv√° v√Ωvoj hmyzu, kde existuje stadium kukly?", a: "promƒõna dokonal√°" },
        { q: "Jak se naz√Ωv√° v√Ωvoj hmyzu bez kukly?", a: "promƒõna nedokonal√°" },
        { q: "Kolik p√°r≈Ø konƒçetin maj√≠ pavoukovci?", a: "4" },
        { q: "Jak√Ω kor√Ω≈° ≈æije ve sladk√Ωch vod√°ch ƒåR a m√° krun√Ω≈ô?", a: "rak ≈ô√≠ƒçn√≠" },
        { q: "Jak se naz√Ωv√° soustava, kterou ostnoko≈æi pohybuj√≠ pano≈ækami?", a: "ambulakr√°ln√≠" },
        { q: "Kter√Ω ostnoko≈æec m√° schopnost regenerace a paprscitou soumƒõrnost?", a: "hvƒõzdice" },
        { q: "Jak√Ω ostnoko≈æec m√° kulovit√© tƒõlo s ostny?", a: "je≈æovka" },
        { q: "Jak√Ω druh tr√°vic√≠ soustavy maj√≠ plo≈°tƒõnci?", a: "slepƒõ zakonƒçen√° (bez koneƒçn√≠ku)" },
        { q: "Maj√≠ hl√≠stice pravou tƒõln√≠ dutinu?", a: "ne, maj√≠ pseudocoelom" },
        { q: "Jak se dost√°vaj√≠ tasemnice do lidsk√©ho tƒõla?", a: "po≈æit√≠m nedostateƒçnƒõ tepelnƒõ upraven√©ho masa s larvami" },
        { q: "Jak√Ω je mezihotel motolic?", a: "pl≈æ" },
        { q: "ƒå√≠m se ≈æiv√≠ volnƒõ ≈æij√≠c√≠ plo≈°tƒõnci?", a: "drobnou ko≈ôist√≠ (ƒçervy, larvy, odum≈ôel√° hmota)" },
        { q: "Jak√Ω typ obƒõhov√© soustavy maj√≠ krou≈ækovci?", a: "uzav≈ôen√°" },
        { q: "ƒå√≠m d√Ωchaj√≠ ≈æ√≠≈æaly?", a: "poko≈ækou" },
        { q: "Co je to opasek (clitellum) u ≈æ√≠≈æal?", a: "ztlu≈°tƒõl√° ƒç√°st tƒõla produkuj√≠c√≠ kokon pro vaj√≠ƒçka" },
        { q: "Z ƒçeho se skl√°d√° tƒõlo mƒõkk√Ω≈°≈Ø?", a: "hlava, noha, vnit≈ônostn√≠ vak, pl√°≈°≈•" },
        { q: "Co vyluƒçuje pl√°≈°≈• mƒõkk√Ω≈°≈Ø?", a: "lasturu nebo ulitu" },
        { q: "Jakou funkc√≠ m√° radula u mƒõkk√Ω≈°≈Ø?", a: "ra≈°ple pro p≈ô√≠jem potravy" },
        { q: "Maj√≠ ml≈æi hlavu?", a: "ne" },
        { q: "Co je to metamorf√≥za u hmyzu?", a: "p≈ôemƒõna z larvy v dospƒõlce" },
        { q: "Jak√° je funkce trachej√≠ u hmyzu?", a: "d√Ωch√°n√≠ - rozvod vzduchu do tƒõla" },
        { q: "Co jsou to fasetov√© oƒçi?", a: "slo≈æen√© oƒçi tvo≈ôen√© mnoha omatidii" },
        { q: "Jak se naz√Ωv√° vnƒõj≈°√≠ kostra ƒçlenovc≈Ø?", a: "kutikula / exoskelet" },
        { q: "Co je to svl√©k√°n√≠ (ecdyse) u ƒçlenovc≈Ø?", a: "odhazov√°n√≠ star√© kutikuly p≈ôi r≈Østu" },
        { q: "Maj√≠ ostnoko≈æi pravou bilater√°ln√≠ symetrii?", a: "ne, maj√≠ paprscitou (radi√°ln√≠) symetrii" },
        { q: "Z ƒçeho je tvo≈ôen skelet ostnoko≈æc≈Ø?", a: "z v√°penat√Ωch destiƒçek" },
        { q: "Jak se ostnoko≈æi pohybuj√≠?", a: "pomoc√≠ pano≈æek (ambulakr√°ln√≠ soustava)" }
      ],
      "Strunatci": [
        { q: "Jak√Ω mo≈ôsk√Ω ≈æivoƒçich m√° chordu jen v larv√°ln√≠m stadiu a dospƒõlec je vakovit√Ω?", a: "pl√°≈°tƒõnec" },
        { q: "Jak√Ω drobn√Ω mo≈ôsk√Ω strunatec je pova≈æov√°n za bl√≠zk√©ho p≈ô√≠buzn√©ho obratlovc≈Ø?", a: "kopinatec pl≈æovit√Ω" },
        { q: "Jak se naz√Ωv√° bezƒçelistnat√Ω parazitick√Ω obratlovec saj√≠c√≠ krev ryb?", a: "mihule" },
        { q: "Jak d√Ωch√° vƒõt≈°ina ryb?", a: "≈æ√°brami" },
        { q: "Jak√Ω org√°n ryb umo≈æ≈àuje ryb√°m plout v r≈Øzn√Ωch hloubk√°ch?", a: "plynov√Ω mƒõch√Ω≈ô" },
        { q: "ƒå√≠m je tvo≈ôena kostra, typick√° pro ≈æraloky a rejnoky?", a: "chrupavƒçit√°" },
        { q: "K ƒçemu slou≈æ√≠ postrann√≠ ƒç√°ra u ryb?", a: "vn√≠m√°n√≠ tlakov√Ωch zmƒõn a proudƒõn√≠ vody" },
        { q: "Jak se naz√Ωv√° larva oboj≈æiveln√≠k≈Ø?", a: "pulec" },
        { q: "Kter√Ω oboj≈æiveln√≠k m√° na b≈ôi≈°e varovn√© zbarven√≠?", a: "ku≈àka" },
        { q: "Nap≈ô. kter√Ω oboj≈æiveln√≠k m√° ocas i v dospƒõlosti?", a: "ƒçolek, mlok" },
        { q: "Jak√Ω typ vajec kladou plazi?", a: "ko≈æovit√°" },
        { q: "Kter√° skupina plaz≈Ø je bez konƒçetin?", a: "hadi" },
        { q: "Kter√° skupina plaz≈Ø m√° dob≈ôe vyvinut√© konƒçetiny a ocasy?", a: "je≈°tƒõ≈ôi" },
        { q: "Jak√Ω typ kost√≠ maj√≠ pt√°ci pro usnadnƒõn√≠ letu?", a: "dut√©" },
        { q: "Jak√Ω org√°n pt√°k≈Ø pom√°h√° p≈ôi mechanick√©m drcen√≠ potravy?", a: "≈æaludek svalnat√Ω" },
        { q: "Jak√Ω znak odli≈°uje pt√°ky od v≈°ech ostatn√≠ch obratlovc≈Ø?", a: "pe≈ô√≠" },
        { q: "Jak se naz√Ωvaj√≠ ≈æl√°zy, kter√Ωmi samice savc≈Ø krm√≠ ml√°ƒèata?", a: "ml√©ƒçn√©" },
        { q: "Kter√° skupina savc≈Ø rod√≠ nedovinut√° ml√°ƒèata do vaku?", a: "vaƒçnatci" },
        { q: "Jak se naz√Ωvaj√≠ savci s trvale rostouc√≠mi ≈ôez√°ky?", a: "hlodavci" },
        { q: "Kter√° skupina savc≈Ø m√° ≈°piƒç√°ky a trh√° ky p≈ôizp≈Øsoben√© k lovu?", a: "≈°elmy" },
        { q: "Jak√° skupina savc≈Ø m√° prsty ukonƒçen√© kopytem?", a: "kopytn√≠ci" },
        { q: "Jak√Ω ≈ô√°d savc≈Ø m√° pohybliv√© prsty a vysoce vyvinut√Ω mozek?", a: "prim√°ti" },
        { q: "Jak√Ω je z√°kladn√≠ znak ƒçlovƒõka ve stavbƒõ kostry?", a: "vzp≈ô√≠men√° p√°te≈ô" },
        { q: "Jak se naz√Ωv√° typ lidsk√© ch≈Øze po dvou konƒçetin√°ch?", a: "bipedie" },
        { q: "Co je to chorda dorsalis?", a: "podp≈Ørn√° tyƒç v embryon√°ln√≠m v√Ωvoji strunatc≈Ø" },
        { q: "Jak√© t≈ôi z√°kladn√≠ znaky maj√≠ strunatci?", a: "chorda, nervov√° trubice, ≈æabern√≠ ≈°tƒõrbiny" },
        { q: "Jak d√Ωchaj√≠ dospƒõl√≠ oboj≈æiveln√≠ci?", a: "pl√≠cemi a poko≈ækou" },
        { q: "Jak√Ω typ oplozen√≠ maj√≠ oboj≈æiveln√≠ci?", a: "vnƒõj≈°√≠ (u vƒõt≈°iny druh≈Ø)" },
        { q: "Co je to ektotermie?", a: "teplota tƒõla z√°visl√° na okol√≠ (studenokrevnost)" },
        { q: "Maj√≠ plazi suchou nebo vlhkou k≈Ø≈æi?", a: "suchou, pokrytou ≈°upinami" },
        { q: "Jak√Ω typ oplozen√≠ maj√≠ plazi?", a: "vnit≈ôn√≠" },
        { q: "Co je to homoiotermie?", a: "st√°l√° tƒõlesn√° teplota (teplokrevnost)" },
        { q: "Jak se naz√Ωv√° zob√°k pt√°k≈Ø bez zub≈Ø?", a: "rohovit√Ω zob√°k / rampfoteka" },
        { q: "Co je to pe≈ô√≠ obrysov√© a prachov√©?", a: "obrysov√© - vnƒõj≈°√≠ ochrann√©, prachov√© - izolaƒçn√≠" },
        { q: "Jak√© t≈ôi skupiny savc≈Ø rozli≈°ujeme podle zp≈Øsobu rozmno≈æov√°n√≠?", a: "vejcorod√≠, vaƒçnatci, placent√°lov√©" },
        { q: "Co je to placenta?", a: "org√°n spojuj√≠c√≠ plod s matkou, zaji≈°≈•uje v√Ω≈æivu" }
      ],
      "Fyziologie a chov√°n√≠": [
        { q: "Jak se naz√Ωv√° typ rozmno≈æov√°n√≠, kdy se z neoplozen√Ωch vaj√≠ƒçek vyv√≠j√≠ nov√Ω jedinec?", a: "partenogeneze" },
        { q: "Jak√Ω typ rozmno≈æov√°n√≠ je u ≈æivoƒçich≈Ø nejbƒõ≈ænƒõj≈°√≠?", a: "pohlavn√≠" },
        { q: "Jak se naz√Ωv√° vrozen√©, geneticky dan√© chov√°n√≠ ≈æivoƒçich≈Ø?", a: "instinkt" },
        { q: "Jak se naz√Ωv√° chov√°n√≠ z√≠skan√© uƒçen√≠m a zku≈°enost√≠?", a: "nauƒçen√©" },
        { q: "Jak√Ωm zp≈Øsobem vƒçely sdƒõluj√≠ smƒõr a vzd√°lenost potravy?", a: "vƒçel√≠ tanec" },
        { q: "Jak se naz√Ωv√° oboustrannƒõ v√Ωhodn√© sou≈æit√≠ dvou druh≈Ø?", a: "mutualismus" },
        { q: "Jak se naz√Ωv√° schopnost ≈æivoƒçich≈Ø orientovat se v prostoru pomoc√≠ zvuku?", a: "echolokace" },
        { q: "Jak√Ω typ symetrie m√° lidsk√© tƒõlo?", a: "bilater√°ln√≠" },
        { q: "Jak se naz√Ωv√° p≈ôizp≈Øsoben√≠ tvaru tƒõla prost≈ôed√≠?", a: "adaptace" },
        { q: "Jak√Ω org√°n umo≈æ≈àuje pt√°k≈Øm l√©tat ve vysok√Ωch nadmo≈ôsk√Ωch v√Ω≈°k√°ch?", a: "vzdu≈°n√© vaky" },
        { q: "Co je to teritorialita?", a: "obhajov√°n√≠ √∫zem√≠ proti jin√Ωm jedinc≈Øm" },
        { q: "Jak se naz√Ωv√° proces uƒçen√≠ ml√°ƒèat rozpoznat rodiƒçe?", a: "imprinting (vtiskovov√°n√≠)" },
        { q: "Co je to migrace u ≈æivoƒçich≈Ø?", a: "pravideln√© p≈ôesuny mezi oblastmi (nap≈ô. tah pt√°k≈Ø)" },
        { q: "Jak√Ω je rozd√≠l mezi predac√≠ a parazitismem?", a: "pred√°tor zab√≠j√≠ ko≈ôist, parazit ≈æije na √∫kor hostitele bez zabit√≠" },
        { q: "Co znamen√° pojem 'soci√°ln√≠ hmyz'?", a: "hmyz ≈æij√≠c√≠ v organizovan√Ωch spoleƒçenstvech (vƒçely, mravenci, termiti)" },
        { q: "Jak se naz√Ωv√° zimn√≠ sp√°nek u ≈æivoƒçich≈Ø?", a: "hibernace" }
      ]
    };

    const totalQuestions = Object.values(questionsDatabase).reduce((sum, section) => sum + section.length, 0);
    document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
    document.getElementById('infoBox').innerHTML = `<p><strong>Jak to funguje:</strong><br>
      1. Vyber t≈ô√≠du<br>
      2. Klikni "Vygenerovat v≈°echny testy"<br>
      3. St√°hne se JEDEN soubor se V≈†EMI testy (ka≈æd√Ω student jin√© ot√°zky)<br>
      4. Vytiskni a rozdej student≈Øm<br><br>
      <strong>‚ú® V datab√°zi je ${totalQuestions} ot√°zek z biologie pro 2. roƒçn√≠k</strong></p>`;

    function generateOneTest(numberOfQuestions) {
      const sections = Object.keys(questionsDatabase);
      const totalSections = sections.length;
      const questionsPerSection = Math.floor(numberOfQuestions / totalSections);
      const remainder = numberOfQuestions % totalSections;

      let selected = [];

      sections.forEach((section, index) => {
        const sectionQuestions = [...questionsDatabase[section]];
        const count = questionsPerSection + (index < remainder ? 1 : 0);
        
        for (let i = sectionQuestions.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [sectionQuestions[i], sectionQuestions[j]] = [sectionQuestions[j], sectionQuestions[i]];
        }
        
        const selectedFromSection = sectionQuestions.slice(0, Math.min(count, sectionQuestions.length));
        selectedFromSection.forEach(q => {
          selected.push({ ...q, section });
        });
      });

      for (let i = selected.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [selected[i], selected[j]] = [selected[j], selected[i]];
      }

      return selected;
    }

    function generateAllTests() {
      const className = document.getElementById('className').value;
      const studentCount = parseInt(document.getElementById('studentCount').value) || 30;
      const testDate = document.getElementById('testDate').value;
      const questionsPerTest = parseInt(document.getElementById('questionsPerTest').value) || 30;
      const pointsPerQuestion = parseInt(document.getElementById('pointsPerQuestion').value) || 1;

      if (!className) {
        document.getElementById('warningText').textContent = 'Vyber t≈ô√≠du';
        document.getElementById('warningSection').style.display = 'block';
        return;
      }

      document.getElementById('warningSection').style.display = 'none';

      const maxPoints = questionsPerTest * pointsPerQuestion;

      let content = `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    @media print {
      .test-page { page-break-after: always; break-after: page; }
      .test-page:last-child { page-break-after: auto; }
    }
    @media screen {
      .test-page { border-bottom: 3px solid #999; margin-bottom: 30px; padding-bottom: 20px; }
      .test-page:last-child { border-bottom: none; }
    }
    body { font-family: Arial; font-size: 9pt; line-height: 1.15; margin: 0.5cm; }
    h1 { text-align: center; font-size: 14pt; margin: 4px 0; }
    .header { border-top: 1.5px solid black; border-bottom: 1.5px solid black; padding: 3px 0; margin: 5px 0 8px 0; }
    .header p { margin: 1.5px 0; font-size: 9pt; }
    .question { border-bottom: 1px solid #ddd; padding: 1px 0; margin: 0; page-break-inside: avoid; break-inside: avoid; }
    .question-text { font-weight: bold; margin: 0 0 1px 0; font-size: 9pt; }
    .answer-field { min-height: 3.2em; border: none; padding: 2px 3px; background: transparent; margin: 0 0 1px 0; }
    .points { text-align: right; font-weight: bold; color: #c00; font-size: 8pt; margin: 0; }
    .summary { border: 1.5px solid black; padding: 8px; margin: 8px 0 8px 0; page-break-inside: avoid; break-inside: avoid; }
    .summary h2 { font-size: 11pt; margin: 0 0 5px 0; }
    .summary p { margin: 3px 0; font-size: 9pt; }
  </style>
</head>
<body>`;

      for (let studentNum = 1; studentNum <= studentCount; studentNum++) {
        if (studentNum > 1) {
          content += '<br clear=all style="page-break-before:always">';
        }

        const questions = generateOneTest(questionsPerTest);

        content += `
  <h1>TEST Z BIOLOGIE - 2. ROƒåN√çK</h1>
  <div class="header">
    <p><strong>Jm√©no a p≈ô√≠jmen√≠:</strong></p>
    <p><strong>T≈ô√≠da:</strong> ${className}</p>
    <p><strong>Datum:</strong> ${testDate}</p>
    <p><strong>Varianta:</strong> ${studentNum}</p>
  </div>`;

        questions.forEach((item, index) => {
          content += `
  <table style="width: 100%; border-collapse: collapse; page-break-inside: avoid;">
    <tr>
      <td>
        <div class="question">
          <p class="question-text">${index + 1}. ${item.q}</p>
          <div class="answer-field">&nbsp;</div>
          <p class="points">Bod≈Ø: _____</p>
        </div>
      </td>
    </tr>
  </table>`;
        });

        content += `
  <div class="summary">
    <h2>HODNOCEN√ç</h2>
    <p><strong>Celkem bod≈Ø:</strong> __________ / ${maxPoints}</p>
    <p><strong>Zn√°mka:</strong> __________</p>
    <p><strong>Koment√°≈ô uƒçitele:</strong></p>
    <div style="border: 1px solid #ccc; min-height: 50px; margin-top: 6px; background: #fafafa;"></div>
  </div>`;
      }

      content += `
</body>
</html>`;

      const blob = new Blob([content], { type: 'application/msword' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'testy_biologie_2rocnik_' + className.replace(/\s+/g, '_') + '_' + testDate + '.doc';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);

      document.getElementById('testInfo').textContent = studentCount + ' (BIOLOGIE 2. roƒçn√≠k)';
      document.getElementById('successSection').style.display = 'block';
    }
  </script>
</body>
</html>
